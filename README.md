# JSON2PDF
Compiler built in Python that uses a modified version of [Posquit0's Awesome-CV](https://github.com/posquit0/Awesome-CV) LaTeX template to generate a CV or CL in `pdf` format based on a `json` image of the CV or CL.

## Installation
Begin by installing Miktex, which is required in order to be able to compile the intermediate `tex` file generated by the program into a `pdf` file. It is recommended that you go for the [portable edition](https://miktex.org/howto/portable-edition) of Miktex and do the following:
- Follow the instructions listed under the **Download** and **How to Install** sections.
- Go to Windows search and find "Edit the system environment variables", click "Environment Variables". Under "System Variables", look for the variable `Path`, select it then click "Edit". Click "New" and add the absolute path to the Miktex x64 folder; this path should have the form `...\miktex-portable\texmfs\install\miktex\bin\x64`, where `...` is the prefix of the absolute path (i.e. of the form `C:\etc\etc\etc`).
- Extract the json2pdf folder from `json2pdf.zip` and place it somewhere.

If you wish, you can add the json2pdf directory path into your system environment variables `PATH`. This will allow you to run the `json2pdf` command anywhere on your system.

## Basic Usage
Point `cmd` to the json2pdf directory; the easiest way to do this is by opening the json2pdf directory and typing `cmd` into the address bar of the file explorer. To run the tool, type `json2pdf`; you should see an error message asserting the valid arguments that you must or can pass to the tool.

```sh
json2pdf
```

In particular, the tool expects that you pass a `-cv` or `-cl` flag, pointing to a cv/cl json blueprint. You can also include both flags and the compiler will compile both files! The process of generating your cv/cl starts with an image of the CV/CL, which must be a `json` file that follows the json2pdf grammar. Since an image essentially represents a version of a cv/cl, it is recommended to give the image file a self-documenting / descriptive name. Inside the json2pdf directory, you should see the `samples` folder, which contains an example cv `resume.json` and cl `letter.json`. You can look into these files and the files in the `sections` folder to get an idea of what cv/cl image files and item collection files look like. Let's try to compile the `resume.json` image. To do this, run:

```sh
json2pdf -cv ".\samples\resume"
```

Personal information cannot be provided in a cv/cl image, for security reasons. Instead, this information is directly passed to the tool through the use of flags. If at any time you would like to view all available flags, simply run the `json2pdf` command with nothing else. At minimum, we must specify the `name`, `position`, `address`, `mobile`, and `email` flags to ensure that our cv/cl is not anonymized. Try running this and seeing the difference from the previous output:

```sh
json2pdf -cv ".\samples\resume" -n "Awesome Person" -p "Awesome Architect" "Awesome Expert" -m "000-000-0000" -e "awesome.person@awesomecompany.com" -l "awesome-person" -a "Awesome Address" -g "awesome-person" -w "awesome-portfolio.io" -c "DC3522"
```

The `position` flag can be passed with multiple arguments, as shown in the example, and these will all show up in the headline. Try running the above command with and without the `--bolded` and `--anonymized` flags to see the difference. You can also try running the above with `-cl ".\samples\letter"` to see what an example cover letter looks like.

## Features

The sample resume demonstrates some of the useful features of this tool. The `samples/resume.json` file coupled with the files in the `samples/sections` directory demonstrates the item referencing feature (for cvs only). This will be especially beneficial for those who have many items on their history, have multiple item versions, have multiple cv versions that reference the same items, and/or like to be more organized. Instead of defining items within the sections of a cv image directly, we can define them in external collection files and reference them using strings of the form `basepath::itemid`, where `basepath` is the path to a collection file base name (i.e. file name without extension) and `itemid` is the identifier of the item. Lines 22-23 of `samples/resume.json` showcase the wildcard capability of item referencing, which allows us to find the first item in a collection file whose name matches the non-wildcard part of the identifier.

Look into all the sample json files to get an idea of how the cv and sections come together. In particular, you can see the anonymization labeling feature at lines 3, 4, 6 of `samples/sections/experience.json`. Any text you put between curly braces will either be anonymized (if a corresponding label exists) or obfuscated when the tool is running in `--anonymized` mode, in addition to areas of the cv that are considered sensitive. Your cv will also be automatically anonymized if any of the basic flags are missing. You can also see the bolding markdown feature at lines 9, 12 of `samples/sections/experience.json`. When running the tool in `--bolded` mode, any text that is wrapped in bolding markdown will be bolded. Keep in mind that anonymization and bolding work for both cvs and cls.

## Reporting Issues

When encountering a compile-time issue, such as getting a compile-time error that you shouldn't be getting, or a run-time issue, such as when the generated pdf file is not the expected output, please make sure to include both the `*.log` and `*.debug.log` files corresponding to the erring attempt and a syntactically-equivalent version of your cv/cl image (and whatever external files the image references) in your issue.

To obtain the log files, run the tool with the `--debug` flag. Also include the `--anonymize` flag to ensure that none of the inputs to the tool make it into the log files. Since the tool is privy to the original content of your cv/cl, you should also make sure that none of the json files referenced or used by the tool contain any sensitive information in their name or content, to avoid leaking your personal information.
